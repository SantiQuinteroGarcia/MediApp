var pantalladecarga,pantallaprincipal,cit=new Object;let citasmed;var med=new Object;let medimed;var audio,play,stop,objetoNota=new Object,contadorCalendario=0,inicioOmedicamentos=1;function inicio(){inicializarvariables(),main()}function main(){mostrarpantalla(pantalladecarga),setTimeout("cambiopantalla(pantallaprincipal,pantalladecarga)",1e3)}window.onload=inicio;var app={initialize:function(){document.addEventListener("deviceready",this.onDeviceReady.bind(this),!1),document.getElementById("btnMedicamentos").addEventListener("click",mostrarMedicamentos),document.getElementById("btncitas").addEventListener("click",mostrarcitas),document.getElementById("btninicio").addEventListener("click",mostrarInicio),document.getElementById("btnMedicamentosAInicio").addEventListener("click",mostrarInicio),document.getElementById("btnMedicamentosACitas").addEventListener("click",mostrarcitas),document.getElementById("btnCitasAMedicamentos").addEventListener("click",mostrarMedicamentos),document.getElementById("btnAnadirMedicina").addEventListener("click",mostrarAnadirMedicina),document.getElementById("btnAnadirMedicinaDesdeInicio").addEventListener("click",mostrarAnadirMedicina),document.getElementById("btnDesplegarInicio").addEventListener("click",configurarDias),document.getElementById("btnCantidadInicio").addEventListener("click",configurarHora),document.getElementById("btnCerrarConfigurarDia").addEventListener("click",seguirConfigurandoMedicina),document.getElementById("btnVolverAAnadirMedicina").addEventListener("click",seguirConfigurandoMedicina),document.getElementById("btnVolverDeSonidoAAnadirMedicina").addEventListener("click",seguirConfigurandoMedicina),document.getElementById("btnGuardar").addEventListener("click",guardarMedicamento),document.getElementById("btnGuardar").addEventListener("click",pintarMedicamentos),document.getElementById("btnGuardar").addEventListener("click",pintarMedicamentospt),document.getElementById("btnguardarCitas").addEventListener("click",guardarCitas),document.getElementById("btnVolverAInicio").addEventListener("click",mostrarInicio),document.getElementById("btnañadircita").addEventListener("click",mostraranadircitas),document.getElementById("btnvolver").addEventListener("click",volvercitas),document.getElementById("btnConfigurarForma").addEventListener("click",configurarForma),document.getElementById("btnConfigurarColor").addEventListener("click",configurarColor),document.getElementById("btnConfigurarSonido").addEventListener("click",configurarSonido),document.getElementById("btnCerrarConfigurarForma").addEventListener("click",seguirConfigurandoMedicina),document.getElementById("btnCerrarConfigurarColor").addEventListener("click",seguirConfigurandoMedicina),(audio=document.createElement("audio")).setAttribute("autoplay","autoplay"),audio.setAttribute("loop","loop"),document.getElementById("cancionUno").addEventListener("click",reproducirCancionUno),document.getElementById("cancionDos").addEventListener("click",reproducirCancionDos),document.getElementById("cancionTres").addEventListener("click",reproducirCancionTres),document.getElementById("flechaDerechaCalendarioUno").addEventListener("click",mostrarCalendarioDos),document.getElementById("flechaIzquierdaCalendarioDos").addEventListener("click",mostrarCalendarioUno),document.getElementById("flechaDerechaCalendarioTres").addEventListener("click",mostrarCalendarioUno),document.getElementById("flechaDerechaCalendarioDos").addEventListener("click",mostrarCalendarioTres),document.getElementById("flechaIzquierdaCalendarioUno").addEventListener("click",mostrarCalendarioTres),document.getElementById("flechaIzquierdaCalendarioTres").addEventListener("click",mostrarCalendarioDos),document.getElementById("nombremedpt1").addEventListener("click",configurarAlarma),document.getElementById("nombremed1").addEventListener("click",configurarAlarma),document.getElementById("btnCerrarConfigurarAlarma").addEventListener("click",mostrarInicioOmostrarMedicamentos),document.getElementById("btnPostergarAlarma").addEventListener("click",postergarAlarma),document.getElementById("btnCerrarPostergar").addEventListener("click",configurarAlarma),document.getElementById("btnReprogramarAlarma").addEventListener("click",reprogramarAlarma),document.getElementById("btnCerrarReprogramar").addEventListener("click",configurarAlarma),document.getElementById("cancelarReprogramarHora").addEventListener("click",configurarAlarma),document.getElementById("btnEditarAlarma").addEventListener("click",mostrarEditarMedicina),document.getElementById("btnInicioAMas").addEventListener("click",mostrarMas),document.getElementById("btnCitasAMas").addEventListener("click",mostrarMas),document.getElementById("btnMedicamentosAMas").addEventListener("click",mostrarMas),document.getElementById("btnMasAInicio").addEventListener("click",mostrarInicio),document.getElementById("btnMasAMedicamentos").addEventListener("click",mostrarMedicamentos),document.getElementById("btnMasACitas").addEventListener("click",mostrarcitas),document.getElementById("btnMiDiario").addEventListener("click",mostrarMiDiario),document.getElementById("btnanadirNota").addEventListener("click",mostrarNota2),document.getElementById("volverDiario").addEventListener("click",mostrarMas),document.getElementById("btnvolverNota").addEventListener("click",mostrarMiDiario),document.getElementById("btnguardarNota").addEventListener("click",guardarNota)},onDeviceReady:function(){this.receivedEvent("deviceready")},receivedEvent:function(e){var t=document.getElementById(e),a=t.querySelector(".listening"),n=t.querySelector(".received");a.setAttribute("style","display:none;"),n.setAttribute("style","display:block;"),console.log("Received Event: "+e)}};function inicializarvariables(){pantalladecarga=document.getElementById("pantallacarga"),pantallaprincipal=document.getElementById("inicio")}function mostrarpantalla(e){e.className=e.className.replace(/(?:^|\s)ocultar(?!\S)/g,"")}function cambiopantalla(e,t){t.className+=" ocultar",e.className=e.className.replace(/(?:^|\s)ocultar(?!\S)/g,"")}function ocultar(){document.getElementById("pantallacarga").className="ocultar",document.getElementById("inicio").className="ocultar",document.getElementById("pantallaMedicamentos").className="ocultar",document.getElementById("citas").className="ocultar",document.getElementById("pantallaAnadirMedicina").className="ocultar",document.getElementById("pantallaMas").className="ocultar",document.getElementById("divMidiario").className="ocultar",document.getElementById("divNota").className="ocultar",document.getElementById("divconfigurarAlarma").className="ocultar",document.getElementById("divConfigurarDia").className="ocultar",document.getElementById("divConfigurarHora").className="ocultar",document.getElementById("divConfigurarForma").className="ocultar",document.getElementById("divConfigurarSonido").className="ocultar",document.getElementById("divConfigurarColor").className="ocultar",document.getElementById("divPostergarAlarma").className="ocultar",document.getElementById("divReprogramarAlarma").className="ocultar"}function mostrarInicio(){ocultar(),document.getElementById("inicio").className="Pantalla1 animated fadeIn",inicioOmedicamentos=1}function mostrarMedicamentos(){ocultar(),document.getElementById("pantallaMedicamentos").className="Pantalla2 animated fadeIn",inicioOmedicamentos=2}function mostrarInicioOmostrarMedicamentos(){1==inicioOmedicamentos&&mostrarInicio(),2==inicioOmedicamentos&&mostrarMedicamentos()}function mostrarcitas(){ocultar(),document.getElementById("citas").className="Pantalla2 animated fadeIn"}function volvercitas(){pantallaAnadirCita.className+=" ocultar",document.getElementById("citas").className="Pantalla2 animated fadeIn"}function mostrarAnadirMedicina(){ocultar(),document.getElementById("pantallaAnadirMedicina").className="Pantalla2 animated fadeIn",document.getElementById("tituloMedicina").innerHTML="Añadir medicina"}function mostrarEditarMedicina(){ocultar(),document.getElementById("pantallaAnadirMedicina").className="Pantalla2 animated fadeIn",document.getElementById("tituloMedicina").innerHTML="Editar medicina"}function mostraranadircitas(){ocultar(),document.getElementById("pantallaAnadirCita").className="Pantalla2 animated fadeIn"}function mostrarMas(){ocultar(),document.getElementById("pantallaMas").className="Pantalla2 animated fadeIn"}function mostrarMiDiario(){ocultar(),document.getElementById("divMidiario").className="Pantalla2 animated fadeIn"}function mostrarNota(){ocultar(),document.getElementById("divNota").className="Pantalla2 animated fadeIn"}function mostrarNota2(){ocultar(),document.getElementById("divNota").className="Pantalla2 animated fadeIn",document.getElementById("nombreNota").value="",document.getElementById("descripcionNota").value="",document.getElementById("nombreNota").disabled=!1}function configurarDias(){document.getElementById("btnDesplegarInicio").src="img/desplegar hoverinicio.png",document.getElementById("divConfigurarDia").className="zindex"}function configurarHora(){document.getElementById("btnCantidadInicio").src="img/cantidad hover.png",document.getElementById("divConfigurarHora").className="zindex"}function configurarForma(){document.getElementById("btnConfigurarForma").src="img/forma hoverinicio.png",document.getElementById("divConfigurarForma").className="zindex"}function configurarColor(){document.getElementById("btnConfigurarColor").src="img/color hoverinicio.png",document.getElementById("divConfigurarColor").className="zindex"}function configurarSonido(){document.getElementById("btnConfigurarSonido").src="img/sonido hoverinicio.png",document.getElementById("divConfigurarSonido").className="zindex"}function seguirConfigurandoMedicina(){document.getElementById("btnDesplegarInicio").src="img/desplegarinicio.png",document.getElementById("divConfigurarDia").className="ocultar",document.getElementById("btnCantidadInicio").src="img/cantidadinicio.png",document.getElementById("divConfigurarHora").className="ocultar",document.getElementById("btnConfigurarForma").src="img/formainicio.png",document.getElementById("divConfigurarForma").className="ocultar",document.getElementById("btnConfigurarColor").src="img/colorinicio.png",document.getElementById("divConfigurarColor").className="ocultar",document.getElementById("btnConfigurarSonido").src="img/sonidoinicio.png",document.getElementById("divConfigurarSonido").className="ocultar",audio.pause()}function reproducirCancionUno(){audio.pause(),audio.setAttribute("src","sounds/BigHornsIntro.mp3"),document.getElementById("divCancionUno").className="margenArriba divSonidoElegido",document.getElementById("divCancionDos").className="margenArriba",document.getElementById("divCancionTres").className="margenArriba",document.getElementById("cancionUno").className="colorTipoLetra marginSiete letraPequeña",document.getElementById("cancionDos").className="color2TipoLetra marginSiete letraPequeña",document.getElementById("cancionTres").className="color2TipoLetra marginSiete letraPequeña",document.getElementById("imgCancionUno").src="img/volumen.png",document.getElementById("imgCancionDos").src="img/sonido1inicio.png",document.getElementById("imgCancionTres").src="img/sonido1inicio.png",audio.play()}function reproducirCancionDos(){audio.pause(),audio.setAttribute("src","sounds/LesliesStrutSting.mp3"),document.getElementById("divCancionUno").className="margenArriba",document.getElementById("divCancionDos").className="margenArriba divSonidoElegido",document.getElementById("divCancionTres").className="margenArriba",document.getElementById("cancionUno").className="color2TipoLetra marginSiete letraPequeña",document.getElementById("cancionDos").className="colorTipoLetra marginSiete letraPequeña",document.getElementById("cancionTres").className="color2TipoLetra marginSiete letraPequeña",document.getElementById("imgCancionUno").src="img/sonido1inicio.png",document.getElementById("imgCancionDos").src="img/volumen.png",document.getElementById("imgCancionTres").src="img/sonido1inicio.png",audio.play()}function reproducirCancionTres(){audio.pause(),audio.setAttribute("src","sounds/ShortGuitarClip.mp3"),document.getElementById("divCancionUno").className="margenArriba",document.getElementById("divCancionDos").className="margenArriba",document.getElementById("divCancionTres").className="margenArriba divSonidoElegido",document.getElementById("cancionUno").className="color2TipoLetra marginSiete letraPequeña",document.getElementById("cancionDos").className="color2TipoLetra marginSiete letraPequeña",document.getElementById("cancionTres").className="colorTipoLetra marginSiete letraPequeña",document.getElementById("imgCancionUno").src="img/sonido1inicio.png",document.getElementById("imgCancionDos").src="img/sonido1inicio.png",document.getElementById("imgCancionTres").src="img/volumen.png",audio.play()}function mostrarCalendarioUno(){document.getElementById("divCalendarioDos").className="ocultar",document.getElementById("divCalendarioTres").className="ocultar",2==contadorCalendario&&(document.getElementById("divCalendarioUno").className="animated fadeInLeft"),3==contadorCalendario&&(document.getElementById("divCalendarioUno").className="animated fadeInRight"),contadorCalendario=1}function mostrarCalendarioDos(){document.getElementById("divCalendarioUno").className="ocultar",document.getElementById("divCalendarioDos").className="",document.getElementById("divCalendarioTres").className="ocultar",3==contadorCalendario&&(document.getElementById("divCalendarioDos").className="animated fadeInLeft"),1!=contadorCalendario&&0!=contadorCalendario||(document.getElementById("divCalendarioDos").className="animated fadeInRight"),contadorCalendario=2}function mostrarCalendarioTres(){document.getElementById("divCalendarioUno").className="ocultar",document.getElementById("divCalendarioDos").className="ocultar",document.getElementById("divCalendarioTres").className="",1!=contadorCalendario&&0!=contadorCalendario||(document.getElementById("divCalendarioTres").className="animated fadeInLeft"),2==contadorCalendario&&(document.getElementById("divCalendarioTres").className="animated fadeInRight"),contadorCalendario=3}function configurarAlarma(){document.getElementById("divconfigurarAlarma").className="zindex",document.getElementById("divPostergarAlarma").className="ocultar",document.getElementById("divReprogramarAlarma").className="ocultar"}function postergarAlarma(){document.getElementById("divPostergarAlarma").className="zindex"}function reprogramarAlarma(){document.getElementById("divReprogramarAlarma").className="zindex"}function guardarMedicamento(){var e=document.getElementById("nombremedtxt").value,t=document.getElementById("cantidadtxt").value,a=document.getElementById("horamedtxt").value,n=document.getElementById("diatxt").value;if(e.length>0>0&&n.length>0){var o=new Object;o.medicamento=e,o.cantidad=t,o.hora2=a,o.fecha2=n;let i=null!=localStorage.getItem("medicamentosmedicos")?JSON.parse(localStorage.getItem("medicamentosmedicos")):[];(med=i.filter(function(t){return t.medicamento==e})).length>0?alert("Ya se encuentra registrado este titulo de citas , por favor intentelo con otro"):(i.push(o),localStorage.setItem("medicamentosmedicos",JSON.stringify(i)),document.getElementById("nombremedtxt").value="",document.getElementById("cantidadtxt").value="",document.getElementById("unidadestxt").value="",document.getElementById("horamedtxt").value="",document.getElementById("diatxt").value="")}else alert("rellene los campos")}function guardarCitas(){var e=document.getElementById("citatxt").value,t=document.getElementById("medicotxt").value,a=document.getElementById("clinicatxt").value,n=document.getElementById("fechatxt").value,o=document.getElementById("horatxt").value;if(e.length>0&&t.length>0&&a.length>0&&n.length>0&&o.length>0){var i=new Object;i.citas=e,i.medico=t,i.clinica=a,i.fecha=n,i.hora=o;let d=null!=localStorage.getItem("CitasMedica")?JSON.parse(localStorage.getItem("CitasMedica")):[];(cit=d.filter(function(t){return t.citas==e})).length>0?alert("Ya se encuentra registrado este titulo de citas , por favor intentelo con otro"):(d.push(i),localStorage.setItem("CitasMedica",JSON.stringify(d)),document.getElementById("citatxt").value="",document.getElementById("medicotxt").value="",document.getElementById("clinicatxt").value="",document.getElementById("fechatxt").value="",document.getElementById("horatxt").value="",document.getElementById("notatxt").value="",pintarCitas())}else alert("rellene los campos")}function pintarCitas(){var e=localStorage.getItem("CitasMedica"),t=JSON.parse(e);console.log(t);var a=["nombrecitas1","nombrecitas2","nombrecitas3","nombrecitas4","nombrecitas5","nombrecitas6"];for(i=0;i<t.length;i++)document.getElementById("citasagregadas").children[1].children[i].className="paddingAbajo displayBlock",document.getElementById(a[i]).innerHTML=t[i].citas}function pintarMedicamentos(){var e=0,t=localStorage.getItem("medicamentosmedicos"),a=JSON.parse(t);console.log(a);var n=["nombremed1","nombremed2","nombremed3"],o=["hora1","hora2","hora3"];for(e=0;e<a.length;e++)a[e].medicamento&&(document.getElementById(n[e]).innerHTML=a[e].medicamento,document.getElementById(o[e]).innerHTML=a[e].hora2,document.getElementById("mostrarmed1").children[e].children[0].className="centrarVerticalmente",document.getElementById("mostrarmed1").children[e].children[2].className="centrarVerticalmente",document.getElementById("mostrarmed1").children[e].className="paddingAbajo")}function pintarMedicamentospt(){var e=0,t=localStorage.getItem("medicamentosmedicos"),a=JSON.parse(t);console.log(a);var n=["nombremedpt1","nombremedpt2","nombremedpt3"],o=["horapt1","horapt2","hora3pt"];for(e=0;e<a.length;e++)a[e].medicamento&&(document.getElementById(n[e]).innerHTML=a[e].medicamento,document.getElementById(o[e]).innerHTML=a[e].hora2,document.getElementById("mostrarmed1pm").children[e].children[0].className="centrarVerticalmente",document.getElementById("mostrarmed1pm").children[e].children[2].className="centrarVerticalmente",document.getElementById("mostrarmed1pm").children[e].className="paddingAbajo")}function guardarNota(){let e=null!=localStorage.getItem("itemNota")?JSON.parse(localStorage.getItem("itemNota")):[];for(var t="",a=document.getElementById("nombreNota").value,n=0;n<e.length;n++)if(e[n].nombre==a){t=n+1;break}t>0?(objetoNota.nombre=document.getElementById("nombreNota").value,objetoNota.descripcion=document.getElementById("descripcionNota").value,e[t-1]=objetoNota,localStorage.setItem("itemNota",JSON.stringify(e)),document.getElementById("nombreNota").disabled=!1,pintarNotas()):(objetoNota.nombre=document.getElementById("nombreNota").value,objetoNota.descripcion=document.getElementById("descripcionNota").value,0==objetoNota.nombre.length||0==objetoNota.descripcion.length?alert("Rellene todos los campos"):(document.getElementById("nombreNota").disabled=!1,e.push(objetoNota),localStorage.setItem("itemNota",JSON.stringify(e)),document.getElementById("nombreNota").value="",document.getElementById("descripcionNota").value="",pintarNotas()))}function pintarNotas(){let e=null!=localStorage.getItem("itemNota")?JSON.parse(localStorage.getItem("itemNota")):[];$("#contNotas").empty();for(let t=0;t<e.length;t++)$("#contNotas").append(" <div class='divDiario' id='btnNota1'><img src='img/nota"+t+"inicio.png' onclick='editarNota("+t+")' id='btnNota11'></div>");mostrarMiDiario()}function editarNota(e){let t=null!=localStorage.getItem("itemNota")?JSON.parse(localStorage.getItem("itemNota")):[];document.getElementById("nombreNota").value=t[e].nombre,document.getElementById("descripcionNota").value=t[e].descripcion,document.getElementById("nombreNota").disabled=!0,mostrarNota()}app.initialize();